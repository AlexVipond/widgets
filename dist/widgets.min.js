!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Widgets=t()}}(function(){return function t(e,i,n){function r(s,u){if(!i[s]){if(!e[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var f=i[s]={exports:{}};e[s][0].call(f.exports,function(t){var i=e[s][1][t];return r(i?i:t)},f,f.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e){e.exports=t("./lib/index")},{"./lib/index":3}],2:[function(t,e){function i(t){n.extend(this,t)}var n=window._,r=t("./utils");i.prototype.template=function(t,e){var i=r.template(t);return i(e)},e.exports=i},{"./utils":7}],3:[function(t,e){function i(t,e,i){var n=new s(i);return r.call(t,e,n)||t}function n(t){return o.get(t)}var r=t("./router"),o=t("./registry"),s=t("./context");t("./widgets"),e.exports={render:i,get:n}},{"./context":2,"./registry":5,"./router":6,"./widgets":8}],4:[function(t,e){function i(){this.routes=[]}function n(t,e,i){this.route="string"==typeof t?o(t):t,this.callback=e,this.defaults=i}function r(t){return t?decodeURIComponent(t):void 0}function o(t){return t=t.replace(d,"\\$&").replace(a,"(?:$1)?").replace(f,function(t,e){return e?t:"([^/?]+)"}).replace(c,"([^?]*?)").concat("(?:\\?(.*))?"),new RegExp("^"+t+"$")}var s=window._,u=window.qs,a=/\((.*?)\)/g,f=/(\(\?)?:\w+/g,c=/\*\w+/g,d=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.prototype.add=function(t,e,i){return this.routes.push(new n(t,e,i)),this},i.prototype.call=function(t,e,i){for(var n,r=0;r<this.routes.length;r++)if((n=this.routes[r]).test(t))return n.call(t,e,i||this)},n.prototype.test=function(t){return this.route.test(t)},n.prototype.call=function(t,e,i){var n=this.route.exec(t).slice(1);return n=s.map(n,r),n.push(s.defaults({},e,u.parse(n.pop()),this.defaults)),this.callback.apply(i,n)},e.exports=i},{}],5:[function(t,e){function i(t,e,i){var n=o[t]={render:e,defaults:i};return new r(n)}function n(t){return t?o[t]:o}function r(t){this.widget=t}var o={},s=t("./router");r.prototype.route=function(t,e){return e=_.defaults({},e,this.widget.defaults),s.add(t,this.widget.render,e),this},r.prototype.defaults=function(t){return this.widget.defaults=t,this};var u={add:s.add,register:i};e.exports={helper:u,register:i,get:n}},{"./router":6}],6:[function(t,e){function i(t,e,i){return o.add(t,e,i)}function n(t,e,i){return o.call(t,e,i)}var r=(window._,t("./paperboy")),o=new r;e.exports={add:i,call:n}},{"./paperboy":4}],7:[function(t,e){var i=t("fs").readFileSync,n=window._,r={};r.trim=function(t){return t.replace(/(^\s+|\s+$)/g,"")},r.read=function(t){return r.trim(i(t,"utf8"))},r.template=function(t){return"undefined"==typeof window?n.template(r.read("lib/widgets/"+t+".jst")):Widgets.templates[t]},e.exports=r},{fs:12}],8:[function(t){var e=t("./registry").helper;if("undefined"==typeof window){var i=t("glob");i("lib/widgets/**/*.js",{sync:!0},function(i,n){n.forEach(function(i){var n=t(i.replace("lib","."));n(e)})})}else t("./widgets/vimeo/vimeo")(e),t("./widgets/youtube/youtube")(e),t("./widgets/insightmaker/insightmaker")(e)},{"./registry":5,"./widgets/insightmaker/insightmaker":9,"./widgets/vimeo/vimeo":10,"./widgets/youtube/youtube":11,glob:"R9Jafm"}],9:[function(t,e){function i(t,e){var i="http://insightmaker.com/insight/"+t;return this.template("insightmaker/insightmaker",{href:i,text:e.title||i})}e.exports=function(t){t.add("insightmaker/:id",i)}},{}],10:[function(t,e){function i(t,e){return this.template("fixed-iframe",{src:"//player.vimeo.com/video/"+t+"?title=0&byline=0&portrait=0",aspect:e.aspect})}e.exports=function(t){t.add("vimeo/:id",i,{aspect:"hd"})}},{}],11:[function(t,e){function i(t,e){return this.template("fixed-iframe",{src:"//www.youtube.com/embed/"+t,aspect:e.aspect})}e.exports=function(t){t.add("youtube/:id",i,{aspect:"sd"})}},{}],12:[function(){},{}]},{},[1])(1)}),this.Widgets=this.Widgets||{},this.Widgets.templates=this.Widgets.templates||{},this.Widgets.templates["fixed-iframe"]=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="widget-container" data-aspect-ratio="'+(null==(__t=aspect)?"":_.escape(__t))+'">\n  <div class="widget-content">\n    <iframe src="'+(null==(__t=src)?"":_.escape(__t))+'" frameborder="0" width="100%" height="100%"\n      webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n  </div>\n</div>\n';return __p},this.Widgets.templates["insightmaker/insightmaker"]=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<a href="'+(null==(__t=href)?"":__t)+'" data-lightbox="iframe">'+(null==(__t=text)?"":_.escape(__t))+"</a>\n";return __p};