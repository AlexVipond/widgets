!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Widgets=e()}}(function(){return function e(t,r,i){function n(o,a){if(!r[o]){if(!t[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var d=r[o]={exports:{}};t[o][0].call(d.exports,function(e){var r=t[o][1][e];return n(r?r:e)},d,d.exports,e,t,r,i)}return r[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)n(i[o]);return n}({1:[function(e,t){t.exports=e("./lib/index")},{"./lib/index":3}],2:[function(e,t){function r(e){i.extend(this,e)}var i=window._,n=e("./utils"),s=e("./registry");r.prototype.template=function(e,t){return n.template(e,t)},r.prototype.render=function(e){var t=s.get(e),r=i.last(arguments);return i.defaults(r,t.defaults),t.render.apply(this,i.rest(arguments))},r.prototype.extend=i.extend,r.prototype.defaults=i.defaults,t.exports=r},{"./registry":5,"./utils":7}],3:[function(e,t){function r(e,t,r){var i=new o(r);return n.call(e,t,i)||e}function i(e){return s.get(e)}var n=e("./router"),s=e("./registry"),o=e("./context");e("./widgets"),t.exports={render:r,get:i}},{"./context":2,"./registry":5,"./router":6,"./widgets":8}],4:[function(e,t){function r(){this.routes=[]}function i(e,t,r){this.route="string"==typeof e?s(e):e,this.callback=t,this.defaults=r}function n(e){return e?decodeURIComponent(e):void 0}function s(e){return e=e.replace(c,"\\$&").replace(u,"(?:$1)?").replace(d,function(e,t){return t?e:"([^/?]+)"}).replace(f,"([^?]*?)").concat("(?:\\?(.*))?"),new RegExp("^"+e+"$")}var o=window._,a=window.qs,u=/\((.*?)\)/g,d=/(\(\?)?:\w+/g,f=/\*\w+/g,c=/[\-{}\[\]+?.,\\\^$|#\s]/g;r.prototype.add=function(e,t,r){return this.routes.push(new i(e,t,r)),this},r.prototype.call=function(e,t,r){for(var i,n=0;n<this.routes.length;n++)if((i=this.routes[n]).test(e))return i.call(e,t,r||this)},i.prototype.test=function(e){return this.route.test(e)},i.prototype.call=function(e,t,r){var i=this.route.exec(e).slice(1);return i=o.map(i,n),i.push(o.defaults({},t,a.parse(i.pop()),this.defaults)),this.callback.apply(r,i)},t.exports=r},{}],5:[function(e,t){function r(e,t,r){var i=s[e]={render:t,defaults:r};return new n(i)}function i(e){return e?s[e]:s}function n(e){this.widget=e}var s={},o=e("./router");n.prototype.route=function(e,t){return t=_.defaults({},t,this.widget.defaults),o.add(e,this.widget.render,t),this},n.prototype.defaults=function(e){return this.widget.defaults=e,this};var a={add:o.add,register:r};t.exports={helper:a,register:r,get:i}},{"./router":6}],6:[function(e,t){function r(e,t,r){return s.add(e,t,r)}function i(e,t,r){return s.call(e,t,r)}var n=(window._,e("./paperboy")),s=new n;t.exports={add:r,call:i}},{"./paperboy":4}],7:[function(e,t){var r=e("fs").readFileSync,i=window._,n={};n.trim=function(e){return e.replace(/(^\s+|\s+$)/g,"")},n.read=function(e){return n.trim(r(e,"utf8"))},n.template=function(e,t){var r;return r="undefined"==typeof window?i.template(n.read("lib/widgets/"+e+".jst")):Widgets.templates[e],t?r(t):r},t.exports=n},{fs:15}],8:[function(e){var t=e("./registry").helper;e("./widgets/iframe/iframe")(t),e("./widgets/insightmaker/insightmaker")(t),e("./widgets/slideshare/slideshare")(t),e("./widgets/speakerdeck/speakerdeck")(t),e("./widgets/vimeo/vimeo")(t),e("./widgets/youtube/youtube")(t)},{"./registry":5,"./widgets/iframe/iframe":9,"./widgets/insightmaker/insightmaker":10,"./widgets/slideshare/slideshare":11,"./widgets/speakerdeck/speakerdeck":12,"./widgets/vimeo/vimeo":13,"./widgets/youtube/youtube":14}],9:[function(e,t){function r(e){var t="iframe/fixed_"+(e.aspect?"aspect":"size");return this.template(t,e)}t.exports=function(e){e.register("iframe",r)}},{}],10:[function(e,t){function r(e,t){var r="http://insightmaker.com/insight/"+e;return this.template("insightmaker/insightmaker",{href:r,text:t.title||r})}t.exports=function(e){e.add("insightmaker/:id",r)}},{}],11:[function(e,t){function r(e,t){return t.src="//www.slideshare.net/slideshow/embed_code/"+e,this.render("iframe",t)}t.exports=function(e){e.add("slideshare/:id",r,{aspect:"sd"})}},{}],12:[function(e,t){function r(e,t){return t.src="//speakerdeck.com/player/"+e,this.render("iframe",t)}t.exports=function(e){e.add("speakerdeck/:id",r,{aspect:"sd"})}},{}],13:[function(e,t){function r(e,t){return t.src="//player.vimeo.com/video/"+e+"?title=0&byline=0&portrait=0",this.render("iframe",t)}t.exports=function(e){e.add("vimeo/:id",r,{aspect:"hd"})}},{}],14:[function(e,t){function r(e,t){return t.src="//www.youtube.com/embed/"+e,this.render("iframe",t)}t.exports=function(e){e.add("youtube/:id",r,{aspect:"hd"})}},{}],15:[function(){},{}]},{},[1])(1)}),this.Widgets=this.Widgets||{},this.Widgets.templates=this.Widgets.templates||{},this.Widgets.templates["iframe/fixed_aspect"]=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="widget-container" data-aspect-ratio="'+(null==(__t=aspect)?"":_.escape(__t))+'">\n  <div class="widget-content">\n    <iframe src="'+(null==(__t=src)?"":_.escape(__t))+'" frameborder="0" width="100%" height="100%"\n      webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n  </div>\n</div>\n';return __p},this.Widgets.templates["iframe/fixed_size"]=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<iframe src="'+(null==(__t=src)?"":_.escape(__t))+'" frameborder="0" width="'+(null==(__t=width)?"":_.escape(__t))+'" height="'+(null==(__t=height)?"":_.escape(__t))+'"\n  webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n';return __p},this.Widgets.templates["insightmaker/insightmaker"]=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<a href="'+(null==(__t=href)?"":__t)+'" target="lightbox">'+(null==(__t=text)?"":_.escape(__t))+"</a>\n";return __p},this.Widgets.templates["test/test"]=function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+="Awww yeah!\n";return __p};